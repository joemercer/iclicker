<head>  
  <title>iClickr</title>
  <meta name="author" content="Nicole Jiang & Joe Mercer">
  <meta content="text/html; charset=utf-8" http-equiv="content-type">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=false">
  <link href='http://fonts.googleapis.com/css?family=Raleway:400,100,200,300,500,600,700,800' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="iclicker.css">
</head>

<body>
  {{> page}}
</body>

<template name="page">
  {{#if currentUser}}
    {{> loggedIn}}
  {{else}}
    {{> loggedOut}}
  {{/if}}
</template>

<template name="loggedOut">
  <div class="login_wrapper wrapper">
    <img id="logo" src="/img/logo.png">
    <h1 id="login_title">iCLiCKR</h1>
    <div class="login_input">
      <input id="uWaterlooId" name="profileName" placeholder="USERNAME" size="30" tabindex="1" type="text">
      <input id="user_password" name="user_password" placeholder="PASSWORD" size="30" tabindex="2" type="password">
      <input id="login" type="button" value="LOG IN">
    </div>
  </div><!-- end login_wrapper -->
</template>





<!-- CHOOSE COURSE -->

<template name="loggedIn">
  {{#if loggingIn}}
    <p>Logging in...</p>
  {{else}}
    <div>
      <button id="toggle" class="toggle-sidebar">
        <span class="icon_bar"></span>
        <span class="icon_bar"></span>
        <span class="icon_bar"></span>
      </button>
    </div>
    <div id="sidebar">
      {{#if sidebar}}
        {{> sidebar}}
      {{/if}}
    </div>
    <div>
      {{#if activePage.myGroups}}
        {{> myGroups}}
      {{else}} {{#if activePage.activeGroup}}
        {{> activeGroup}}
      {{/if}} {{/if}}
    </div>
    <br><br><br><br>
    {{#if false}}
      <div>
        Hello {{currentUser.profile.name}}
        <input id="logout" type="button" value="Log out">
      </div>
      <div>
        {{> profile}}
      </div>
      <div>
        {{> groups}}
      </div>
      <div>
        {{> activeGroup}}
      </div>
      <div>
        {{> activeQuestion}}
      </div>
    {{/if}}
  {{/if}}
</template>

<template name="sidebar">
  <div id="sidebar_wrapper">
    <img id="user_photo" src="/img/user_photo.jpg">
    Hello {{currentUser.profile.name}}
    <input id="logout" type="button" value="Log out">
  </div>
</template>

<template name="myGroups">
  <div class="course_wrapper wrapper">
    <div class="course_header">
      <h4>Enroll in a</h4>
      <h1>Course</h1>
    </div>
    <div class="course_selection">
      <ul id="ongoing">
        <h4>Ongoing</h4>
        <hr>
        {{#each groups}}
          <li class="enterGroup course_ongoing" data-groupid="{{_id}}">
            {{> groupItem}}
          </li>
        {{/each}}
      </ul>
    </div>
  </div>
</template>

<template name="groupItem">
  <p>{{groupName}}</p>
  <h3>{{groupName}}</h3>
  <div class="course_info">
    <img src="/img/location.png">
    <p>MC1006</p>
  </div>
  <div class="course_info">
    <img src="/img/time.png">
    <p>6:00pm - 7:50pm</p>
  </div>
  <div id="course_enter">
    <img id="course_enter" src="/img/arrow.png">
  </div>
</template>

<template name="activeGroup">
  {{#if activeGroup}}

    <div class="iclicker_wrapper wrapper" style="">
      <div class="iclicker_header">
        <div class="header_text">
          <h4>{{activeGroup}}</h4>
          <h1>{{activeGroup}}</h1>
        </div>
      </div>

      {{#if admin}}
        <input id="questionText" type="text" value="What is your favorite color?">
        <input id="answerA" type="text" value="Blue">
        <input id="answerB" type="text" value="Green">
        <input id="answerC" type="text" value="Red">
        <input id="answerD" type="text" value="Pink">
        <input id="answerE" type="text" value="Yellow">
        <input id="questionTimeLimit" type="text" value="120">

        <input id="addQuestion" type="button" value="Add Question">

        <p>All of the questions, click to answer a question</p>

        <ul>
          {{#each questions}}
            <li><a class="activateQuestion" data-questionid="{{_id}}">Active: {{active}}</a> - Question: {{text}}</li>
          {{/each}}
        </ul>
      {{else}}
        {{> activeQuestion}}
      {{/if}}

    </div>

  {{/if}}
</template>

<template name="activeQuestion">
  {{#if activeQuestion}}
    <div class="iclicker_active">
      <div class="iclicker_question">
        <h3>{{activeQuestion}}</h3>
      </div>
      <div class="iclicker_answer">
        <ul id="iclicker_options">
          {{#each answers}}
            <li class="answer"><a class="answerQuestion" data-answerid="{{_id}}">{{text}}</a></li>
          {{/each}}
        </ul>
        <p>Your answers:</p>
        <ul>
          {{#each yourAnswers}}
            <li>{{text}}</li>
          {{/each}}
        </ul>
      </div>
      <div class="timer">
        <h3>timer:</h3>
        <h4>00:05</h4>
      </div>
    </div>
  {{/if}}
</template>











<template name="profile">
  <input id="profileName" type="text" value="{{currentUser.profile.name}}">
  <input id="addProfileName" type="button" value="Edit Name">
</template>

<template name="groups">
  <input id="groupName" type="text" value="Math239 yo">
  <input id="createGroup" type="button" value="Create Course">
  <p>Click to join a course</p>
  <ul>
    {{#each all}}
      <li><a class="joinGroup" data-groupname="{{groupName}}">{{groupName}}</a></li>
    {{/each}}
  </ul>
  <p>My courses, click to enter the classroom</p>
  <ul>
    {{#each mine}}
      <li><a class="enterGroup" data-groupid="{{_id}}">{{groupName}}</a></li>
    {{/each}}
  </ul>
</template>





